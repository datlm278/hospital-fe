<div class="container-fluid g-0">

  <div class="mx-4">

    <h1 class="mt-3 text-uppercase text-center">Quản lý bệnh nhân</h1>

    <p-toast position="top-right"></p-toast>

    <div class="mt-3">

      <button mat-raised-button color="primary" (click)="showCreate()">
        Thêm bệnh nhân
      </button>

      <div class="table-responsive">
        <table class="table table-hover mt-4">
          <thead>
          <tr class="text-secondary text-center text-uppercase">
            <th scope="col">#</th>
            <th scope="col">Họ và tên</th>
            <th scope="col">Giới tính</th>
            <th scope="col">Địa chỉ</th>
            <th scope="col">Ngày sinh</th>
            <th scope="col">Số CCCD</th>
            <th scope="col">Ngày nhập viện</th>
            <th scope="col">Số điện thoại</th>
            <th scope="col">Trạng thái</th>
            <th scope="col">Hành động</th>
          </tr>
          </thead>
          <tbody>
          <tr class="text-center" *ngFor="let item of patients; let id = index">
            <td>{{ id + 1 }}</td>
            <td>{{ item.fullName }}</td>
            <td>{{ item.gender == 1 ? 'Nữ' : 'Nam' }}</td>
            <td>{{ item.address }}</td>
            <td>{{ convertTime(item.dob) }}</td>
            <td>{{ item.cccdNumber }}</td>
            <td>{{ convertTime(item.admissionDate) }}</td>
            <td>{{ item.phoneNumber }}</td>
            <td>{{ item.status == 'DANG_DIEU_TRI' ? 'Đang điều trị' : 'Đã xuất viện' }}</td>
            <td>
              <button mat-icon-button
                      matTooltipPosition="below"
                      matTooltip="Cập nhật"
                      (click)="showUpdate(item.id)"
                      color="primary">
                <mat-icon>edit</mat-icon>
              </button>
              <button mat-icon-button
                      matTooltipPosition="below"
                      matTooltip="Lịch sử khám bệnh"
                      (click)="showHistory(item.id)"
                      color="primary">
                <mat-icon>menu</mat-icon>
              </button>
              <button mat-icon-button
                      matTooltipPosition="below"
                      matTooltip="Xuất viện"
                      (click)="showDischarge(item.id)"
                      color="warn">
                <mat-icon>keyboard_tab</mat-icon>
              </button>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>


