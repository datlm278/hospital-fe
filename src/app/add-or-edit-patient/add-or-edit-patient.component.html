<h1 mat-dialog-title class="text-uppercase">
  {{ data.isCreate ? "Thêm mới" : "Cập nhật" }} bệnh nhân
</h1>
<div mat-dialog-content class="mt-2">
  <form
    #addForm='ngForm'
    class="row justify-content-center">

    <div class="mb-3">
      <label for="fullName" class="form-label">
        Họ và tên bệnh nhân<span class="text-danger">*</span>
      </label>
      <input type="text"
             #fullName="ngModel"
             [(ngModel)]="data.patient.fullName"
             class="form-control"
             id="fullName"
             name="fullName"
             placeholder="Nhập họ và tên bệnh nhân"
             required>
      <div
        *ngIf="fullName.invalid && (fullName.dirty || fullName.touched) && fullName.errors?.['required']"
        class="text-danger">
        Vui lòng nhập trường này
      </div>
    </div>

    <div class="mb-3">
      <label for="dob" class="form-label">
        Ngày sinh<span class="text-danger">*</span>
      </label>
      <input type="date"
             #dob=ngModel
             [(ngModel)]="data.patient.dob"
             class="form-control"
             id="dob"
             name="dob"
             placeholder="Chọn ngày sinh"
             required>
      <div
        *ngIf="dob.invalid && (dob.dirty || dob.touched) && dob.errors?.['required']"
        class="text-danger">
        Vui lòng nhập trường này
      </div>
    </div>

    <div class="mb-3">
      <label for="gender" class="form-label">
        Giới tính<span class="text-danger">*</span>
      </label>
      <ng-select
        id="gender"
        #gender="ngModel"
        [(ngModel)]="data.patient.gender"
        name="gender"
        placeholder="Lựa chọn giới tính"
        required>
        <ng-option [value]="0">
          Nam
        </ng-option>
        <ng-option [value]="1">
          Nữ
        </ng-option>
      </ng-select>
      <div
        *ngIf="gender.invalid && (gender.dirty || gender.touched) && gender.errors?.['required']"
        class="text-danger">
        Vui lòng nhập trường này
      </div>
    </div>

    <div class="mb-3">
      <label for="content" class="form-label">
        Địa chỉ thường trú<span class="text-danger">*</span>
      </label>
      <textarea rows="5"
                #content="ngModel"
                [(ngModel)]="data.patient.address"
                class="form-control"
                id="content"
                name="content"
                placeholder="Nhập địa chỉ thường trú"
                required></textarea>
      <div
        *ngIf="content.invalid && (content.dirty || content.touched) && content.errors?.['required']"
        class="text-danger">
        Vui lòng nhập trường này
      </div>
    </div>

    <div class="mb-3">
      <label for="phoneNumber" class="form-label">
        Số điện thoại bệnh nhân<span class="text-danger">*</span>
      </label>
      <input type="text"
             #phoneNumber="ngModel"
             [(ngModel)]="data.patient.phoneNumber"
             class="form-control"
             id="phoneNumber"
             name="phoneNumber"
             placeholder="Nhập số điện thoại bệnh nhân"
             required>
      <div
        *ngIf="phoneNumber.invalid && (phoneNumber.dirty || phoneNumber.touched) && phoneNumber.errors?.['required']"
        class="text-danger">
        Vui lòng nhập trường này
      </div>
    </div>

    <div class="mb-3">
      <label for="cccdNumber" class="form-label">
        Số CCCD<span class="text-danger">*</span>
      </label>
      <input type="text"
             #cccdNumber="ngModel"
             [(ngModel)]="data.patient.cccdNumber"
             class="form-control"
             id="cccdNumber"
             name="cccdNumber"
             placeholder="Nhập số CCCD"
             required>
      <div
        *ngIf="cccdNumber.invalid && (cccdNumber.dirty || cccdNumber.touched) && cccdNumber.errors?.['required']"
        class="text-danger">
        Vui lòng nhập trường này
      </div>
    </div>
  </form>
</div>

<div mat-dialog-actions align="end">
  <button class="btn btn-secondary btn-sm m-2" (click)="close()"><span>Huỷ</span></button>
  <button
    type="submit"
    [disabled]="!addForm.valid"
    class="btn btn-primary btn-sm"
    [mat-dialog-close]="data.patient">
    <span>Lưu</span>
  </button>
</div>

